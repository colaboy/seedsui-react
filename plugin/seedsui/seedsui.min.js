!function(e,t){"use strict";e.Actionsheet=function(e){var n=[{text:"退出",handler:function(){Popup.confirm("您确定要退出吗",function(){this.toast("确定")},function(){this.destroy()})}}];e=e||null,null==e&&(e=n);var a=this;a.params=e,a.hideAnimate={bottom:"-100%"},a.showAnimate={bottom:"0%"};var i=function(e,n){var a=t.createElement(e);return n&&a.setAttribute("class",n),a};a.createMask=function(){a.mask||(a.mask=i("div","popup-mask"),t.body.appendChild(a.mask),a.mask.addEventListener("click",a.onClickCancel,!1))},a.createContainer=function(){if(!a.container){a.container=i("div","popup actionsheet");for(var e,n=i("div","actionsheet-group"),o=0;e=a.params[o++];){var r=i("a");r.innerHTML=e.text,n.appendChild(r),function(e){r.addEventListener("click",function(){e.handler(a)},!1)}(e)}var s=i("a","actionsheet-cancel");s.innerHTML="取消",a.container.appendChild(n),a.container.appendChild(s),t.body.appendChild(a.container),s.addEventListener("click",a.onClickCancel,!1)}},a.hide=function(){$(a.mask).animate({opacity:0},"fast","linear",function(){$(this).css("display","none")}),$(a.container).animate(a.hideAnimate,"fast","linear",function(){$(this).css("display","none")})},a.show=function(){a&&($(a.mask).css("display","block").animate({opacity:1},"fast","linear"),$(a.container).css("display","block").animate(a.showAnimate,"fast","linear"))},a.destory=function(){$(a.mask).animate({opacity:0},"fast","linear",function(){$(this).remove()}),$(a.container).animate(a.hideAnimate,"fast","linear",function(){$(this).remove()}),a=null},a.onClickCancel=function(){return a.params.onClickOk?void a.params.onClickOk(a):void a.hide()},a.init=function(){a.createMask(),a.createContainer()},a.init()}}(window,document,void 0),function(e,t,n){"use strict";e.Alert=function(e,a){var i={title:"提示",buttonOk:"确定"};a=a||{};for(var o in i)a[o]==n&&(a[o]=i[o]);var r=this;r.params=a,r.hideAnimate={opacity:"0"},r.showAnimate={opacity:"1"},r.createMask=function(){r.mask||(r.mask=t.createElement("div"),r.mask.setAttribute("class","popup-mask"),t.body.appendChild(r.mask))},r.createContainer=function(){if(!r.container){r.container=t.createElement("div"),r.container.setAttribute("class","popup confirm");var n=t.createElement("h1");n.innerHTML=r.params.title,r.content=t.createElement("label"),r.content.innerHTML=e;var a=t.createElement("div");a.setAttribute("class","popup-handler"),r.buttonOk=t.createElement("a"),r.buttonOk.innerHTML=r.params.buttonOk,a.appendChild(r.buttonOk),r.container.appendChild(n),r.container.appendChild(r.content),r.container.appendChild(a),t.body.appendChild(r.container),r.buttonOk.addEventListener("click",r.onClickOk,!1)}},r.setText=function(e){r.content.innerHTML=e},r.hide=function(){$(r.mask).animate({opacity:0},"fast","linear",function(){$(this).css("display","none")}),$(r.container).animate(r.hideAnimate,"fast","linear",function(){$(this).css("display","none")})},r.show=function(){r&&($(r.mask).css("display","block").animate({opacity:1},"fast","linear"),$(r.container).css("display","block").animate(r.showAnimate,"fast","linear"))},r.destory=function(){$(r.mask).animate({opacity:0},"fast","linear",function(){$(this).remove()}),$(r.container).animate(r.hideAnimate,"fast","linear",function(){$(this).remove()}),r=null},r.onClickOk=function(){return r.params.onClickOk?void r.params.onClickOk(r):void r.hide()},r.init=function(){r.createMask(),r.createContainer()},r.init()}}(window,document,void 0);var Animate=function(){function e(e){var t=e.getAttribute("data-to")||0,n=e.getAttribute("data-from")||0,a=e.getAttribute("data-duration")||500,i=t-n;if(0>i||isNaN(n)||isNaN(t))return void console.log("请确定开始时间与结束时间是否输入正确！");var o=10,r=a/o,s=Math.round(i/r);1>s&&(r=i,o=a/r,s=Math.round(i/r));var c=setInterval(function(){n+=s,e.innerHTML=n,n>=t&&(e.innerHTML=t,clearInterval(c))},o)}function t(e){var t=0,n=setInterval(function(){t++},1);setTimeout(function(){e&&e(t),clearInterval(n)},1e3)}function n(e){function t(o){n++;var r=a(t);o>=1e3&&(e&&e(n),i(r))}var n=0;a(t)}var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){window.clearTimeout(e)};return{one:function(e,t){var n=new RegExp("\\s{0,}"+t,"g");e.className.match(n)&&(e.className=e.className.replace(n,"")),e.className+=" "+t,EventUtil.addHandler(e,"animationend",function(){e.className=e.className.replace(n,"")})},testSiFps:t,testRafFps:n,counter:function(){for(var t,n=document.querySelectorAll(".timer"),a=0;t=n[a++];)e(t)}}}(),BaiduMap={gps:function(e,t){var n=new BMap.Geolocation;n.getCurrentPosition(function(n){if(this.getStatus()==BMAP_STATUS_SUCCESS){{var a=n.point;a.lng,a.lat}if(t&&"point"===t)return void e(a);var i=new BMap.Geocoder;i.getLocation(a,function(t){t?e(a,t.address):alert("获取地址失败"+this.getStatus())})}else alert("获取坐标失败"+this.getStatus())},{enableHighAccuracy:!0})},place:function(e,t){alert(e);var n=new BMap.Geocoder;n.getLocation(e,function(e){e&&feature&&"place"===feature&&t(e.address)})},mapGuide:function(e){var t=e.point.lng,n=e.point.lat,a=e.title,i=e.content;window.location.href="http://api.map.baidu.com/marker?location="+n+","+t+"&title="+a+"&content="+i+"&output=html"},mapImg:function(e){var t=e.point.lng,n=e.point.lat,a=(e.title,e.content,e.width),i=e.height,o="http://api.map.baidu.com/staticimage?width="+a+"&height="+i+"&center="+t+","+n+"&markers="+t+","+n+"&scale=1&zoom=15&markerStyles=-1,http://api.map.baidu.com/images/marker_red.png";return o}};!function(e,t,n){"use strict";e.Confirm=function(e,a){var i={title:"提示",buttonOk:"确定",buttonCancel:"取消"};a=a||{};for(var o in i)a[o]==n&&(a[o]=i[o]);var r=this;r.params=a,r.hideAnimate={opacity:"0"},r.showAnimate={opacity:"1"},r.createMask=function(){r.mask||(r.mask=t.createElement("div"),r.mask.setAttribute("class","popup-mask"),t.body.appendChild(r.mask))},r.createContainer=function(){if(!r.container){r.container=t.createElement("div"),r.container.setAttribute("class","popup confirm");var n=t.createElement("h1");n.innerHTML=r.params.title,r.content=t.createElement("label"),r.content.innerHTML=e;var a=t.createElement("div");a.setAttribute("class","popup-handler"),r.buttonCancel=t.createElement("a"),r.buttonCancel.innerHTML=r.params.buttonCancel,r.buttonOk=t.createElement("a"),r.buttonOk.innerHTML=r.params.buttonOk,a.appendChild(r.buttonCancel),a.appendChild(r.buttonOk),r.container.appendChild(n),r.container.appendChild(r.content),r.container.appendChild(a),t.body.appendChild(r.container),r.buttonOk.addEventListener("click",r.onClickOk,!1),r.buttonCancel.addEventListener("click",r.onClickCancel,!1)}},r.setText=function(e){r.content.innerHTML=e},r.hide=function(){$(r.mask).animate({opacity:0},"fast","linear",function(){$(this).css("display","none")}),$(r.container).animate(r.hideAnimate,"fast","linear",function(){$(this).css("display","none")})},r.show=function(){r&&($(r.mask).css("display","block").animate({opacity:1},"fast","linear"),$(r.container).css("display","block").animate(r.showAnimate,"fast","linear"))},r.destory=function(){$(r.mask).animate({opacity:0},"fast","linear",function(){$(this).remove()}),$(r.container).animate(r.hideAnimate,"fast","linear",function(){$(this).remove()}),r=null},r.onClickOk=function(){return r.params.onClickOk?void r.params.onClickOk(r):void 0},r.onClickCancel=function(){return r.params.onClickCancel?void r.params.onClickCancel(r):void r.hide()},r.init=function(){r.createMask(),r.createContainer()},r.init()}}(window,document,void 0);var DateUtil=function(){"use strict";var date=new Date;return{year:function(){return date.getFullYear()},month:function(){return date.getMonth()+1},day:function(){return date.getDate()},hour:function(){return date.getHours()},minute:function(){return date.getMinutes()},seconds:function(){return date.getSeconds()},quarter:function(){return Math.floor((date.getMonth()+3)/3)},milliseconds:function(){return date.getMilliseconds()},today:function(){return date.getFullYear()+"-"+DateUtil.month()+"-"+date.getDate()},now:function(){return date.getHours()+":"+date.getMinutes()},todayNow:function(){return DateUtil.today()+" "+DateUtil.now()},fullTodayNow:function(){return DateUtil.today()+" "+date.getHours()+":"+date.getMinutes()+":"+date.getSeconds()},time:function(){return date.getTime()},days:function(e,t){var n=/^(0?[[1-9]|1[0-2])$/,a=/^[1-2][0-9][0-9][0-9]$/;return e&&t?n.exec(e)&&a.exec(t)?new Date(t,e,0).getDate():void alert("您输入的月份和年份不正确"):e?n.exec(e)?new Date(date.getFullYear(),e,0).getDate():void alert("您输入的月份不正确"):new Date(date.getFullYear(),date.getMonth()+1,0).getDate()},tomorrow:function(){return DateUtil.days()>=DateUtil.day()+1?DateUtil.year()+"-"+DateUtil.month()+"-"+eval(DateUtil.day()+1):12==DateUtil.month()?eval(DateUtil.year()+1)+"-1-1":DateUtil.year()+"-"+eval(DateUtil.month()+1)+"-1"},plusDay:function(num){return DateUtil.days()>=DateUtil.day()+num?DateUtil.year()+"-"+DateUtil.month()+"-"+eval(DateUtil.day()+num):12==DateUtil.month()?eval(DateUtil.year()+num)+"-"+num+"-"+num:DateUtil.year()+"-"+eval(DateUtil.month()+num)+"-"+num},format:function(e,t){var n="yyyy-MM-dd hh:mm:ss";t&&(n=t);var a,i,o,r,s,c;if(e instanceof Date==1)a=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),r=e.getHours(),s=e.getMinutes(),c=e.getSeconds();else{var l=/([1-2][0-9][0-9][0-9])[\.\/-](0?[[1-9]|1[0-2])[\.\/-]([1-3][0-9]|0?[0-9])/,u=l.exec(e);if(!u||isNaN(u[1])&&isNaN(u[2])&&isNaN(u[3]))return void alert("您所要格式化的时期格式不正确");a=u[1],i=u[2],o=u[3],r="00",s="00",c="00";var d=/(0?[0-9]|[1-2][0-9]):([1-6][0-9]|0?[0-9])/,m=d.exec(e);m&&(r=m[1]?m[1]:"00",s=m[2]?m[2]:"00",c="00");var h=/(\d{2}|\d{1}):(\d{2}|\d{1}):(\d{2}|\d{1})/,p=h.exec(e);p&&(r=p[1]?p[1]:"00",s=p[2]?p[2]:"00",c=p[3]?p[3]:"00")}var f={"M+":i,"d+":o,"h+":r,"m+":s,"s+":c};/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(a+"").substr(4-RegExp.$1.length)));for(var v in f)new RegExp("("+v+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?f[v]:("00"+f[v]).substr((""+f[v]).length)));return n},expires:function(cacheTime){var y=date.getFullYear(),M=date.getMonth()+1,d=date.getDate(),h=date.getHours(),m=date.getMinutes(),s=date.getSeconds();return cacheTime?("today"===cacheTime&&(d++,h=0,m=0,s=0),!isNaN(cacheTime)&&1>cacheTime&&(m+=Math.abs(Math.round(60*cacheTime)),m>=60&&(m-=60,h+=1)),!isNaN(cacheTime)&&cacheTime>=1&&(h+=Math.abs(Math.round(cacheTime))),"object"==typeof cacheTime&&(!isNaN(cacheTime.year)&&eval(cacheTime.year+y)<=2999&&(y=cacheTime.year?cacheTime.year+y:y),!isNaN(cacheTime.month)&&eval(cacheTime.month+M)<=12&&(M=cacheTime.month?cacheTime.month+M:M),!isNaN(cacheTime.day)&&eval(cacheTime.day+d)<=DateUtil.days()&&(d=cacheTime.day?cacheTime.day+d:d),!isNaN(cacheTime.hour)&&eval(cacheTime.hour+h)<24&&(h=cacheTime.hour?cacheTime.hour+h:h),!isNaN(cacheTime.minute)&&eval(cacheTime.minute+m)<60&&(m=cacheTime.minute?cacheTime.minute+m:m),!isNaN(cacheTime.second)&&eval(cacheTime.second+s)<60&&(s=cacheTime.second?cacheTime.second+s:s)),y+"-"+M+"-"+d+" "+h+":"+m+":"+s):void alert("请传入合法的时效")}}}(),DB=function(){"use strict";function e(){window.addEventListener("updateready",function(){console.log("离线缓存状态："+window.applicationCache.status),window.applicationCache.status==window.applicationCache.UPDATEREADY?(window.applicationCache.swapCache(),confirm("发现此manifest文件有更新，是否更新？")&&window.location.reload()):console.log("manifest文件没有变化")},!1)}function t(e,t){var n=30,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()}function n(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);return n&&n[2]?unescape(n[2]):null}function a(e){var t=new Date;t.setTime(t.getTime()-1);var a=n(e);null!=a&&(document.cookie=e+"="+a+";expires="+t.toGMTString())}var i=window.localStorage,o=window.sessionStorage;return i||(doc.style.behavior="url(#default#userData)"),{checkManifest:e,set:function(e,n){i?i.setItem(e,n):t(e,n)},get:function(e){return i?"number"==typeof e?i.key(e):i.getItem(e):n(e)},del:function(e){i?i.removeItem(e):a(e)},clear:function(){return i?i.clear():void alert("抱歉，cookie不可以全部清空!")},setSession:function(e,t){o.setItem(e,t)},getSession:function(e){return"number"==typeof e?o.key(e):o.getItem(e)},delSession:function(e){o.removeItem(e)},clearSession:function(){o.clear()},getParameter:function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?t[1]:t}}}();!function(e){"use strict";e.Device=function(){function t(){for(var e=(navigator.userAgent,new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod")),t=!0,a=0;a<e.length;a++)if(n.indexOf(e[a])>0){t=!1;break}return t}var n=navigator.userAgent,a=navigator.appVersion;return{isTrident:n.indexOf("Trident")>-1,isPresto:n.indexOf("Presto")>-1,isWebKit:n.indexOf("AppleWebKit")>-1,isGecko:n.indexOf("Gecko")>-1&&-1==n.indexOf("KHTML"),isMobile:!!n.match(/AppleWebKit.*Mobile.*/),isIPhone:n.indexOf("iPhone")>-1||n.indexOf("Mac")>-1,isIPad:n.indexOf("iPad")>-1,isWebApp:-1==n.indexOf("Safari"),isPc:t(),isAndroid:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,isIos:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isWeixin:a.toLowerCase().indexOf("micromessenger")>-1,isUC:a.toLowerCase().indexOf("ucbrowser")>-1,isQQ:a.toLowerCase().indexOf("mqqbrowser")>-1,language:(navigator.browserLanguage||navigator.language).toLowerCase(),userAgent:n,appVersion:a,isOnline:e.navigator.online}}()}(window,document,void 0),function(e,t,n){"use strict";var a;if(a="undefined"==typeof Dom7?e.Dom7||e.Zepto||e.jQuery:Dom7){var i,o;a.fn.extend({dialog:function(e){function r(){a(o).animate({opacity:0},"fast","linear",function(){a(this).css("display","none")}),o.removeEventListener("click",r,!1),a(m).parent().animate(u,"fast","linear",function(){a(this).css("display","none")})}function s(){a(o).css("display","block").animate({opacity:1},"fast","linear"),o.addEventListener("click",r,!1);var t=a(m)[0].style.width;t||(t="100%"),a(m).parent().removeAttr("style"),a(m).parent().css(u),a(m).parent().attr("data-pos",e.pos),a(m).css("display","block"),a(m).parent().animate(d,"fast","linear")}var c={pos:"middle"},e=e||{};for(var l in c)e[l]==n&&(e[l]=c[l]);var u={opacity:0},d={opacity:1};switch(e.pos){case"middle":u={opacity:0},d={opacity:1};break;case"top":u={top:"-100%"},d={top:"0%"};break;case"bottom":u={bottom:"-100%"},d={bottom:"0%"};break;case"left":u={left:"-100%"},d={left:"0%"};break;case"right":u={right:"-100%"},d={right:"0%"};break;default:e.pos="middle",u={opacity:0},d={opacity:1}}var m=this;return i||(i=t.createElement("div"),i.setAttribute("class","popup"),a(m).wrap(i)),o||(o=t.createElement("div"),o.setAttribute("class","popup-mask"),a(m).parent().before(o)),m.hideDialog=r,m.showDialog=s,s(),m}})}}(window,document,void 0),function(e,t,n){"use strict";e.Dragrefresh=function(a,i){function o(){if(!c.bottomRefreshEl){c.bottomRefreshEl=t.createElement("div"),c.bottomRefreshEl.setAttribute("class","loading-more");var e=t.createElement("div");e.setAttribute("class","loading"),c.bottomRefreshEl.appendChild(e),c.container.appendChild(c.bottomRefreshEl)}}var r={refreshThreshold:50,refreshThresholdMax:150,refreshHideTop:-58,duration:300,overtime:5e3};i=i||{};for(var s in r)i[s]===n&&(i[s]=r[s]);var c=this;c.params=i,c.container="string"==typeof a?t.querySelector(a):a,c.createRefresh=function(){if(!c.refreshEl){c.refreshEl=t.createElement("div"),c.refreshEl.setAttribute("class","dragrefresh box box-middlecenter");var e='<svg width="1000.6px" height="1000.6px" viewBox="0 0 1000.6 1000.6" xml:space="preserve"><path d="M867.4,456.1c-24.1,0-43.8,19.7-43.8,43.8c0,1.5,0.1,3.1,0.3,4.6c-2.2,176.4-147.1,319.6-323.7,319.6 c-178.5,0-323.8-145.3-323.8-323.8s145.3-323.8,323.8-323.8c62.8,0,122.8,17.7,174.4,50.8l-29,52.2c0,0,138.4,2.2,149.2,2.4 c10.8,0.2,14.6-5.6,14.6-5.6s5.1-5.8,2.4-15.5c-2.6-9.7-43.2-162.2-43.2-162.2l-38.5,61.1c-67.3-45.7-146.7-70.1-229.8-70.1 c-226.6,0-411,184.4-411,411s184.4,411,411,411c225.8,0,410.1-183.7,410.9-407.3l0.2-4.2C911.2,475.7,891.6,456.1,867.4,456.1z"/></svg>';c.refreshEl.innerHTML=e,c.container.appendChild(c.refreshEl)}},c.hideRefresh=function(){c.transition(),c.touches.posY=c.params.refreshHideTop,c.refreshEl.style.top=c.touches.posY+"px"},c.preventDefault=function(e){e.preventDefault()},c.addPreventDefault=function(){t.addEventListener("touchmove",c.preventDefault,!1)},c.removePreventDefault=function(){t.removeEventListener("touchmove",c.preventDefault,!1)},c.transition=function(){c.refreshEl.style.transition=c.params.duration+"ms"},c.cancelTransition=function(){c.refreshEl.style.transition="0ms"},c.spinner=function(){c.rotate+=10,c.rotate>=360&&(c.rotate=0),c.refreshEl.style.transform="rotate("+c.rotate+"deg)",c.rAf=c.requestAnimationFrame(c.spinner)},c.cancelSpinner=function(){c.cancelAnimationFrame(c.rAf)},c.view=function(){c.createRefresh()},c.refresh=function(){c.transition(),c.refreshEl.style.top=c.params.refreshThreshold+"px",setTimeout(function(){c.cancelTransition(),c.spinner()},c.params.duration),c.params.onRefresh&&c.params.onRefresh(c),c.params.onRefreshOvertime&&c.refreshOvertime()},c.refreshComplete=function(){c.cancelOvertime(),c.cancelSpinner(),c.hideRefresh(),c.attach(),c.params.onRefreshComplete&&c.params.onRefreshComplete(c)},c.refreshOvertime=function(){c.overtime=setTimeout(function(){c.cancelSpinner(),c.hideRefresh(),c.attach(),c.params.onRefreshOvertime(c)},c.params.overtime)},c.cancelOvertime=function(){c.overtime&&e.clearTimeout(c.overtime)},c.bottomRefreshEl=c.container.querySelector(".loading-more"),c.bottomRefresh=function(){c.params.onBottom&&(o(),c.container.addEventListener("scroll",function(){this.scrollTop+this.clientHeight>=this.scrollHeight&&c.params.onBottom(c)},!1))};var l={start:"touchstart",move:"touchmove",end:"touchend"};c.events=function(e){var t=c.container,n=e?"removeEventListener":"addEventListener";t[n](l.start,c.onTouchstart,!1),t[n](l.move,c.onTouchmove,!1),t[n](l.end,c.onTouchend,!1)},c.attach=function(e){return e?("start"==e&&c.container.addEventListener(l.start,c.onTouchstart,!1),"move"==e&&c.container.addEventListener(l.move,c.onTouchmove,!1),void("end"==e&&c.container.addEventListener(l.end,c.onTouchend,!1))):void c.events()},c.detach=function(e){return e?("start"==e&&c.container.removeEventListener(l.start,c.onTouchstart,!1),"move"==e&&c.container.removeEventListener(l.move,c.onTouchmove,!1),void("end"==e&&c.container.removeEventListener(l.end,c.onTouchend,!1))):void c.events(!0)},c.touches={isTop:!0,startX:0,startY:0,currentX:0,currentY:0,endX:0,endY:0,diff:0,posY:0},c.onTouchstart=function(e){c.touches.isTop=c.container.scrollTop>0?!1:!0,c.cancelTransition(),c.touches.startX=e.touches[0].clientX,c.touches.startY=e.touches[0].clientY},c.onTouchmove=function(e){c.touches.currentX=e.touches[0].clientX,c.touches.currentY=e.touches[0].clientY,c.touches.diff=c.touches.currentY-c.touches.startY;var t=c.touches.startX-c.touches.currentX;!c.touches.isTop||Math.abs(t)>Math.abs(c.touches.diff)||c.touches.diff<0||(c.addPreventDefault(),c.touches.posY=c.params.refreshHideTop+c.touches.diff,c.touches.posY<c.params.refreshThresholdMax&&(c.rotate=2*c.touches.posY,c.refreshEl.style.transform="rotate("+c.rotate+"deg)",c.refreshEl.style.top=c.touches.posY+"px"))},c.onTouchend=function(){return c.removePreventDefault(),c.touches.posY<c.params.refreshThreshold?void c.hideRefresh():(c.refresh(),void c.detach())},c.init=function(){c.view(),c.attach(),c.bottomRefresh()},c.init()},Dragrefresh.prototype={scrollTop:function(){return t.body.scrollTop}(),requestAnimationFrame:function(t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=n(t);return a},cancelAnimationFrame:function(t){var n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||function(t){e.clearTimeout(t)};n(t)}}}(window,document,void 0),function(e,t,n){"use strict";function a(e,t,n){var a,i,o,r;e.addEventListener("touchstart",function(e){var t=e.touches[0];a=t.clientX,i=t.clientY},!1),e.addEventListener("touchend",function(e){var s=e.changedTouches[0],c=s.clientX,l=s.clientY;return o=a-c,r=i-l,Math.abs(a-c)<6&&Math.abs(i-l)<6?("tap"===t&&n(e),"tap"):Math.abs(r)>Math.abs(o)?r>0?("swipeup"===t&&n(e),"swipeup"):("swipedown"===t&&n(e),"swipedown"):o>0?("swipeleft"===t&&n(e),"swipeleft"):("swiperight"===t&&n(e),"swiperight")},!1)}function i(){var e,a=t.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(a.style[e]!==n)return i[e]}function o(){var e,a=t.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(a.style[e]!==n)return i[e]}var r,s,c={callback:function(e,t){e(t)},addHandler:function(e,t,n){return"tap"===t||"swipeleft"===t||"swiperight"===t||"swipedown"===t||"swipeup"===t?void a(e,t,n):"animationend"===t.toLowerCase()?(s||(s=o()),void(e.addEventListener?e.addEventListener(s,n,!1):e.attachEvent&&e.attachEvent(s,n))):"transitionend"===t.toLowerCase()?(r||(r=i()),void(e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n))):(("input"===t.toLowerCase()||"propertychange"===t.toLowerCase())&&(t="input",e.attachEvent&&(t="propertychange")),void(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n))},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},event:function(t){return t?t:e.e},type:function(e){return e.type},target:function(e){return e.target||e.srcElement}};e.EventUtil=c}(window,document,void 0),function(e){"use strict";e.Emoji={icons:{"[微笑]":"[weixiao]","[难过]":"[nanguo]","[色]":"[se]","[发呆]":"[fadai]","[酷]":"[cool]","[大哭]":"[daku]","[害羞]":"[haixiu]","[闭嘴]":"[bizui]","[睡觉]":"[shuijiao]","[哭]":"[ku]","[流汗]":"[liuhan]","[发怒]":"[fanu]","[眨眼]":"[zhayan]","[龇牙]":"[ziya]","[惊讶]":"[jingya]","[傲慢]":"[aoman]","[得意]":"[deyi]","[可怜]":"[kelian]","[拜拜]":"[baibai]","[开心]":"[kaixin]","[呕吐]":"[outu]","[奋斗]":"[fendou]","[坏笑]":"[huaixiao]","[尴尬]":"[ganga]","[惊吓]":"[jingxia]","[打哈欠]":"[dahaqian]","[白眼]":"[baiyan]","[鄙视]":"[bishi]","[抽烟]":"[chouyan]","[敲头]":"[qiaotou]","[亲亲]":"[qingqing]","[恭喜]":"[gongxi]","[奸笑]":"[jianxiao]","[骂人]":"[maren]","[糗]":"[qiu]","[伤心]":"[shangxin]","[受委屈]":"[shouweiqu]","[偷笑]":"[touxiao]","[挖鼻孔]":"[wabikong]","[委屈]":"[weiqu]","[问]":"[wen]","[擦汗]":"[cahan]","[左哼哼]":"[zuohengheng]","[右哼哼]":"[youhengheng]","[晕]":"[yun]","[大笑]":"[daxiao]","[吓]":"[xia]","[困]":"[kun]","[嘘]":"[xu]","[加油]":"[jiayou]","[强]":"[qiang]","[我爱你]":"[iloveyou]","[差劲]":"[chajin]","[No]":"[no]","[Ok]":"[ok]","[弱]":"[ruo]","[抱拳]":"[baoquan]","[握手]":"[woshou]","[Yeah]":"[yeah]","[来]":"[lai]","[猪头]":"[zhutou]","[心]":"[xin]","[心碎]":"[xinsui]","[抱抱]":"[baobao]","[红唇]":"[hongchun]","[菜刀]":"[caidao]","[太阳]":"[taiyang]","[夜晚]":"[yewan]","[骷髅]":"[kulou]","[花谢了]":"[huaxiele]","[蛋糕]":"[dangao]","[咖啡]":"[kafei]","[足球]":"[zuqiu]","[骷髅]":"[kulou]","[西瓜]":"[xigua]","[炸弹]":"[zhadan]","[篮球]":"[lanqiu]","[礼物]":"[liwu]","[大便]":"[dabian]","[玫瑰]":"[meigui]","[米饭]":"[mifan]","[瓢虫]":"[piaochong]","[啤酒]":"[pijiu]","[闪电]":"[shandian]"},parse:function(e){for(var t=/(\[[\u4E00-\u9FA5]*\])/gm,n=e;t.exec(e);)this.icons[RegExp.$1]&&(n=n.replace(RegExp.$1,'<span data-emoji="'+this.icons[RegExp.$1]+'"></span>'));return n}}}(window,document,void 0);var lang={rule:{required:"不能为空",username:"只能包括字母、数字和下划线",password:"密码格式不正确",phone:"手机号码输入不正确",mail:"邮箱格式不正确",chinese:"只能填写中文",minlength:"最小长度为",maxlength:"最大长度为",unit:"位",twice:"两次",compare:"输入不一致",safelvl:"不安全，请增强"}};!function(e,t){"use strict";e.Form=function(e){var n=this;n.container=t.querySelector(e),n.formElements=[],n.getFormElements=function(){for(var e=0;e<n.container.elements.length;e++){var t=n.container.elements[e];t.type&&t.name&&"button"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&("radio"!=t.type&&"checkbox"!=t.type||t.checked)&&n.formElements.push(t)}},n.initFormControl=function(){$(".switch").click(function(){$(this).toggleClass("active")}),$("[type=password] + i").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).parent().find("input[type]").attr("type","password")):($(this).parent().find("input[type]").attr("type","text"),$(this).addClass("active")),$(this).parent().find("input[type]")[0].focus()}),$("input[data-clear='true']").on("input propertychange",function(){$("+i",this).css($(this).val().length>0?{display:"block"}:{display:"none"}),$("+i",this).click(function(){$(this).css({display:"none"}),$(this).prev().val("")})}),$(".safelvl").parent().find("[type=password]").on("input propertychange",function(){n.checkSafe($(this)[0],$(".safelvl")[0])})},n.serialize=function(){for(var e=[],t=null,a=0;a<n.formElements.length;a++)if(t=n.formElements[a],"select-one"==t.type||"select-multiple"==t.type)for(var i=0;i<t.options.length;i++){var o=t.options[i];o.selected&&e.push(t.name+"="+o.value)}else e.push(t.name+"="+t.value);return e.join("&")},n.safelvl=0;var a={required:/^.+$/,username:/^[\w]*$/,password:/^[0-9_a-zA-Z-~!@#$]*$/,mail:/^(\w+@\w+\.[\.\w]+)?$/,phone:/^([1][34578][0-9]{9})?$/,chinese:/^[\u4E00-\u9FA5]*$/};n.rule=function(e){for(var i,o=e.getAttribute("data-rule-field")||"",r=e.getAttribute("data-rule").split(" "),s=e.value||"",c=null,l=0;i=r[l++];)if(a[i]){if(!a[i].test(s)){c=o+lang.rule[i];break}}else if(i.indexOf("minlength")>=0){var u=i.split(":")[1];if(s.length<u){c=o+lang.rule.minlength+u+lang.rule.unit;break}}else if(i.indexOf("maxlength")>=0){var d=i.split(":")[1];if(s.length>d){c=o+lang.rule.maxlength+d+lang.rule.unit;break}}else if(i.indexOf("compare")>=0){var m=t.getElementsByName(i.split(":")[1])[0];if(m&&m.value&&m.value!=s){c=lang.rule.twice+o+lang.rule.compare;break}}else if("safelvl"==i&&n.safelvl<3){c=o+lang.rule[i];break}return c},n.validate=function(){for(var e,t=0;e=n.formElements[t++];)if(e.getAttribute("data-rule")){var a=n.rule(e);if(a){var i=new Toast(a);return i.show(function(e){e.destory()}),i=null,e.focus(),!1}}return!0},n.charMode=function(e){return e>=48&&57>=e?1:e>=65&&90>=e?2:e>=97&&122>=e?4:8},n.pwdLvl=function(e){for(var t=0,n=0;4>n;n++)1&e&&t++,e>>>=1;return t},n.checkSafe=function(e,t){var a=e.value;if(a.length<=0)return void(t.className=t.className.replace(/lvl[0-3]/,"lvl0"));for(var i=0,o=0;o<a.length;o++)i|=n.charMode(a.charCodeAt(o));n.safelvl=n.pwdLvl(i),t&&(t.className=t.className.replace(/lvl[0-3]/,"lvl"+n.safelvl))},n.init=function(){n.getFormElements(),n.initFormControl()},n.init()}}(window,document,void 0),function(window,document,undefined){"use strict";window.Gauge=function(container,params){var defaults={minValue:0,maxValue:360,currentValue:0,point:".gauge-pointer",wave:".gauge-wave",val:".gauge-text",durationall:2e3};for(var def in defaults)params[def]==undefined&&(params[def]=defaults[def]);var s=this;s.params=params,s.container=document.querySelector(container),s.point=s.container.querySelector(s.params.point),s.wave=s.container.querySelector(s.params.wave)||null,s.val=s.container.querySelector(s.params.val),s.percent=(s.params.currentValue-s.params.minValue)/(s.params.maxValue-s.params.minValue),s.duration=Math.round(s.percent*s.params.durationall),s.bgLvl=Math.round(10*s.percent)+1,s.bgLvl<1&&(s.bgLvl=1),s.bgLvl>10&&(s.bgLvl=10),s.pointRotate=eval(270*s.percent),s.pointRotate>270&&(s.pointRotate=270,s.burst=s.params.currentValue-s.params.maxValue,console.log("已爆表")),s.updatePoint=function(){s.point.setAttribute("style","-webkit-transform:rotate("+s.pointRotate+"deg);-webkit-transition:all "+s.duration+"ms")},s.updateVal=function(){s.val.innerHTML=s.params.currentValue},s.updateBg=function(){var e=/bg[1-9]0?$/g;e.test(s.container.className)?s.container.className=s.container.className.replace(e,"bg"+s.bgLvl):s.container.className+=" bg"+s.bgLvl,s.container.setAttribute("style","-webkit-animation-duration:"+s.duration+"s;animation-duration:"+s.duration+"ms;")},s.updateWave=function(){if(s.wave){var e=100-Math.round(100*s.percent.toFixed(1));0>e&&(e=0),s.wave.setAttribute("style","top:"+e+"%;-webkit-transition:all "+s.duration+"ms")}},s.view=function(){s.updateBg(),s.updatePoint(),s.updateVal()},s.view()}}(window,document,void 0),function(e,t){"use strict";e.Media=function(e){var n=this;n.media=t.querySelector(e)||new Audio(e),n.playAudio=function(e){return n.media.autoplay=!0,n.media.loop=e||!1,n.media.play(),n},n.isReady=function(){return 4!=n.media.readyState?(console.log("视频尚未加载完成，状态："+n.media.readyState),!1):!0},n.resume=function(){return n.media.paused?(n.media.play(),!1):(n.media.pause(),!0)},n.fullScreen=function(){return n.media.requestFullscreen?(n.media.exitFullscreen(),!1):(n.media.requestFullscreen(),!0)},n.durationTime=function(){return n.isReady?(arguments.length>0&&(n.media.duration=arguments[0]),n.media.duration):void 0},n.currentTime=function(){return n.isReady?(arguments.length>0&&(n.media.currentTime=arguments[0]),n.media.currentTime):void 0},n.volume=function(){return arguments.length>0&&(n.media.volume=arguments[0]),n.media.volume},n.volumeLvl=function(){var e=n.media.volume;return 0==e?0:e>0&&.3>e?1:e>.3&&.6>e?2:e>.6&&.9>e?3:4},n.rate=function(){return arguments&&(n.media.defaultPlaybackRate=arguments[0]),n.media.defaultPlaybackRate},n.isSupport=function(e){var t="",n="";switch(e){case"aac":t="audio/mp4",n='audio/mp4; codecs="mp4a.40.2"';break;case"mp3":t="audio/mpeg",n="audio/mpeg";break;case"vorbis":t="audio/ogg",n='audio/ogg; codecs="vorbis"';break;case"wav":t="audio/wav",n='audio/wav; codecs="1"';break;case"h.264":t="video/mp4",n='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"theora":t="video/ogg",n='video/ogg; codecs="theora"';break;case"webm":t="video/webm",n='video/webm; codecs="vp8, vorbis"'}return""!=t&&""!=n&&(player.canPlayType(t)||player.canPlayType(n))?!0:!1};var a=function(e,t,a){var i=a?"removeEventListener":"addEventListener";n.media[i](e,t,!1)};n.onDataunavailable=function(e,t){a("dataunavailable",e,t)},n.onCanshowcurrentframe=function(e,t){a("canshowcurrentframe",e,t)},n.onCanplay=function(e,t){a("canplay",e,t)},n.onCanplaythrough=function(e,t){a("canplaythrough",e,t)},n.onLoad=function(e,t){a("load",e,t)},n.onLoadeddata=function(e,t){a("loadeddata",e,t)},n.onLoadedmetadata=function(e,t){a("loadedmetadata",e,t)},n.onLoadstart=function(e,t){a("loadstart",e,t)},n.onProgress=function(e,t){a("progress",e,t)},n.onAbort=function(e,t){a("abort",e,t)},n.onStalled=function(e,t){a("stalled",e,t)},n.onError=function(e,t){a("error",e,t)},n.onEmptied=function(e,t){a("emptied",e,t)},n.onEmpty=function(e,t){a("empty",e,t)},n.onPlay=function(e,t){a("play",e,t)},n.onPlaying=function(e,t){a("playing",e,t)},n.onTimeupdate=function(e,t){a("timeupdate",e,t)},n.onPause=function(e,t){a("pause",e,t)},n.onWaiting=function(e,t){a("pause",e,t)},n.onEnded=function(e,t){a("ended",e,t)},n.onVolumechange=function(e,t){a("volumechange",e,t)},n.onRatechange=function(e,t){a("ratechange",e,t)},n.onSeeked=function(e,t){a("seeked",e,t)},n.onSeeking=function(e,t){a("seeking",e,t)}}}(window,document,void 0);var Richeditor={selection:function(){return document.getSelection()},getTxtCusorPos:function(e){var t=-1;if(e.selectionStart)return t=e.selectionStart;if(document.selection&&document.selection.createRange){var n=document.selection.createRange();return n.moveStart("character",-e.value.length),t=n.text.length}},getDivCusorPos:function(){var e=0;if(window.getSelection){var t=window.getSelection();return e=t.anchorOffset}if(document.selection&&document.selection.createRange){var n=document.selection.createRange(),a=n.parentElement(),i=document.body.createTextRange();
for(i.moveToElementText(a),e=0;i.compareEndPoints("StartToStart",n)<0;e++)i.moveStart("character",1);return e}},selectionPos:function(e){var t=window.getSelection(),n=0;return document.onselectionchange=function(a){a.target.activeElement.className==e&&(n=t.anchorOffset)},n},isenable:function(e){return document.queryCommandEnabled(e)},backgroundcolor:function(e){document.execCommand("backcolor",!1,e)},bold:function(){document.execCommand("bold",!1,null)},italic:function(){document.execCommand("italic",!1,null)},underline:function(){document.execCommand("underline",!1,null)},copy:function(){document.execCommand("copy",!1,null)},selectall:function(){document.execCommand("selectall",!1,null)},cut:function(){document.execCommand("cut",!1,null)},paste:function(){document.execCommand("paste",!1,null)},del:function(){document.execCommand("delete",!1,null)},link:function(e){document.execCommand("createlink",!1,e)},unlink:function(){document.execCommand("unlink",!1,null)},fontname:function(e){document.execCommand("fontname",!1,e)},fontsize:function(e){return e?void document.execCommand("fontsize",!1,e):document.queryCommandValue("fontsize")},fontcolor:function(e){document.execCommand("forecolor",!1,e)},format:function(e){document.execCommand("formatblock",!1,e)},unformat:function(){document.execCommand("removeformat",!1,null)},indent:function(){document.execCommand("indent",!1,null)},outdent:function(){document.execCommand("outdent",!1,null)},hr:function(){document.execCommand("inserthorzizontalrule",!1,null)},img:function(e){document.execCommand("insertimage",!1,e)},ol:function(){document.execCommand("insertorderedlist",!1,null)},ul:function(){document.execCommand("insertunorderedlist",!1,null)},p:function(){document.execCommand("insertparagraph",!1,null)},center:function(){document.execCommand("justifycenter",!1,null)},left:function(){document.execCommand("justifyleft",!1,null)},right:function(){document.execCommand("justifyright",!1,null)},richEdit:function(e){function t(e){var t=e.getAttribute("alt"),n=r.value,a=n.substr(0,l),i=n.substr(l,n.length),o=t;l+=t.length,r.value=a+o+i}var n,a=document.querySelector(e),i=document.querySelector(e+"+.mask"),o=a.querySelector(".emoji"),r=a.querySelector("textarea"),s=a.querySelector("pre"),c=s.querySelector("span");r.style.height=s.clientHeight+"px",i.addEventListener("click",function(){a.classList.remove("active"),r.blur()},!1);var l=0;document.onselectionchange=function(e){"[object HTMLTextAreaElement]"==Object.prototype.toString.call(e.target.activeElement)&&(c.innerText=r.value,r.style.height=s.clientHeight+"px",l=r.selectionStart)},r.addEventListener("input",function(){c.innerText=r.value,r.style.height=s.clientHeight+"px",l=r.selectionStart},!1),r.addEventListener("click",function(){a.classList.add("active"),n||(n=new Slider(e+" .emoji",{pagination:e+" .slider-pagination"}))},!1);var u=this;o.addEventListener("click",function(e){e.target.getAttribute("data-emoji")&&t(e.target),r.focus(),u.setCaretPosition(r,l)},!1)},setCaretPosition:function(e,t){if(null!=e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},isEnter:function(){EventUtil.addHandler(window,"keydown",function(e){return keynum=e.which||e.keyCode,"13"==keynum?!0:!1})},queryInput:function(e,t){var n,a=window.innerHeight,i=window.innerHeight;n=setInterval(function(o){i=window.innerHeight,DB.get("queryInputHeight")&&DB.get("queryInputHeight")>0?(console.log("读取数据库queryInputHeight:"+DB.get("inputHeight")),this.inputHeight=DB.get("queryInputHeight"),clearInterval(n)):(this.inputHeight=a-i,console.log("注入数据库queryInputHeight:"+inputHeight),DB.set("queryInputHeight",inputHeight)),a==i?(t&&t.call(this,o),clearInterval(n)):e&&e.call(this,o)},500)}};!function(e,t,n){"use strict";e.Share=function(a){function i(e){var n=t.createElement("div");n.style.visibility="hidden",n.innerHTML='<iframe src="'+e+'" scrolling="no" width="1" height="1"></iframe>',t.body.appendChild(n),setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},5e3)}var o=this,r={href:e.location.href,title:t.title||"",desc:"",imgUrl:"",imgTitle:t.title||"",from:e.location.host||"",cusTxt:"请输入此时此刻想要分享的内容"};a=a||{};for(var s in r)a[s]==n&&(a[s]=r[s]);o.params=a;var c={tsina:["kSinaWeibo","SinaWeibo","11","新浪微博"],weixin:["kWeixin","WechatFriends","1","微信好友"],fweixin:["kWeixinFriend","WechatTimeline","8","微信朋友圈"],qq:["kQQ","QQ","4","QQ好友"]};o.UCshare=function(e){var t;Device.isIos?(t=c[e][0],ucbrowser.web_share(o.params.title,o.params.title,o.params.href,t,"","@"+o.params.from,"")):(t=c[e][1],ucweb.startRequest("shell.page_share",[o.params.title,o.params.title,o.params.href,t,"","@"+o.params.from,""]))},o.HTMLShare=function(t){var n="";return"qzone"==t?Device.isMobile?(n="mqqapi://share/to_qzone?src_type=web&version=1&file_type=news&req_type=1&image_url="+o.params.imgUrl+"&title="+o.params.title+"&description="+o.params.desc+"&url="+o.params.href+"&app_name="+o.params.from,void i(n)):(n="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+o.params.href+"&amp;title="+o.params.title+"&amp;showcount=0&amp;summary="+o.params.desc+"&amp;pics="+o.params.imgUrl,void e.open(n)):"tsina"==t?(n="http://service.weibo.com/share/share.php?url="+o.params.href+"&language=zh_cn&title="+o.params.title+"&pic="+o.params.imgUrl+"&searchPic=true",void e.open(n)):"tqq"==t?(n=encodeURI("http://share.v.t.qq.com/index.php?c=share&a=index&title="+o.params.title+"&url="+o.params.href+"&appkey=ce15e084124446b9a612a5c29f82f080&site="+o.params.from+"&pic="+o.params.imgUrl),void e.open(n,"转播到腾讯微博")):(t="qq")?(n="http://connect.qq.com/widget/shareqq/index.html?url="+o.params.href+"#0-sqq-1-85270-9737f6f9e09dfaf5d3fd14d775bfee85&title="+o.params.title+"&desc="+o.params.desc+"&summary=&site="+o.params.from+"&pics="+o.params.imgUrl,void e.open(n)):void 0},o.toQzone=function(){o.HTMLShare("qzone")},o.toTsina=function(){Device.isUC?o.UCshare("tsina"):o.HTMLShare("tsina")},o.toTqq=function(){o.HTMLShare("tqq")},o.toWeixin=function(){Device.isUC?o.UCshare("weixin"):alert("您当前的浏览器不支持分享到微信")},o.toFWeixin=function(){Device.isUC?o.UCshare("fweixin"):alert("您当前的浏览器不支持分享到微信朋友圈")},o.toQQ=function(){Device.isUC?o.UCshare("qq"):o.HTMLShare("qq")}}}(window,document,void 0),function(e,t,n){"use strict";e.Slider=function(a,i){function o(){c.wrapper.style.webkitTransitionDuration=c.params.duration+"ms",c.touches.posX=-c.index*c.width,c.wrapper.style.left=c.touches.posX+"px"}var r={pagination:null,autoplay:!1,slidesPerView:1,threshold:"50",duration:"300",loop:!1,slideDuplicateClass:"slider-slide-duplicate",wrapperClass:"slider-wrapper",slideClass:"slider-slide",slideActiveClass:"active",bulletClass:"bullet",bulletActiveClass:"active"};i=i||{};for(var s in r)i[s]===n&&(i[s]=r[s]);var c=this;if(c.params=i,c.container="string"==typeof a?t.querySelector(a):a,c.container.width=c.container.clientWidth,c.wrapper=c.container.querySelector(":scope > ."+c.params.wrapperClass),c.slides=c.wrapper.querySelectorAll(":scope > ."+c.params.slideClass),!(c.slides.length<=0)){c.createPagination=function(){if(c.params.pagination){c.paginationContainer=c.container.querySelector(":scope > "+c.params.pagination),c.bullets=[],c.paginationContainer.innerHTML="",c.numberOfBullets=c.params.loop?c.slides.length-2*c.params.slidesPerView:c.slides.length;for(var e=0;e<c.numberOfBullets;e++){var n=t.createElement("span");n.setAttribute("class",c.params.bulletClass),c.paginationContainer.appendChild(n),c.bullets.push(n)}}},c.updateClasses=function(){for(var e=0;e<c.slides.length;e++)c.slides[e].className=c.slides[e].className.replace(/\s{1,}active/,"");c.slides[c.index].className+=" "+c.params.slideActiveClass;var t=c.index;if(c.params.loop&&(t=Math.abs(c.index>=c.params.slidesPerView&&c.index<=c.slides.length-1-c.params.slidesPerView?c.index-c.params.slidesPerView:c.numberOfBullets-Math.abs(c.index-c.params.slidesPerView))),c.paginationContainer){for(var e=0;e<c.bullets.length;e++)c.bullets[e].className=c.bullets[e].className.replace(/\s{1,}active/,"");c.bullets[t].className+=" "+c.params.bulletActiveClass}},c.updateSlides=function(){c.slides=c.wrapper.querySelectorAll(":scope > ."+c.params.slideClass)},c.updateContainerSize=function(){c.width=Math.floor(c.container.width/c.params.slidesPerView),c.wrapper.width=c.width*c.slides.length,c.wrapper.style.width=c.wrapper.width+"px",[].slice.call(c.slides).forEach(function(e){e.style.width=c.width+"px"}),c.height=c.container.clientHeight?c.container.clientHeight:c.wrapper.clientHeight,[].slice.call(c.slides).forEach(function(e){e.style.height=c.height+"px"}),c.container.style.height=c.height+"px",c.updateClasses(),c.params.loop&&(c.params.duration=0,o(),c.params.duration=r.duration)},c.createLoop=function(){if(c.params.loop&&!(c.params.slidesPerView>c.slides.length)){var e,t=[],n=[];for([].slice.call(c.slides).forEach(function(e,a){a<c.params.slidesPerView&&n.push(e),a<c.slides.length&&a>=c.slides.length-c.params.slidesPerView&&t.push(e)}),e=0;e<n.length;e++)c.wrapper.appendChild(n[e].cloneNode(!0)).classList.add(c.params.slideDuplicateClass);for(e=t.length-1;e>=0;e--)c.wrapper.insertBefore(t[e].cloneNode(!0),c.wrapper.firstElementChild).classList.add(c.params.slideDuplicateClass);c.index=c.params.slidesPerView}},c.destroyLoop=function(){c.params.loop=null;for(var e,t=c.wrapper.querySelectorAll("."+c.params.slideDuplicateClass),n=0;e=t[n++];)c.wrapper.removeChild(e)};var l={start:"touchstart",move:"touchmove",end:"touchend"};c.events=function(e){var t=c.container,n=e?"removeEventListener":"addEventListener";t[n](l.start,c.onTouchstart,!1),t[n](l.move,c.onTouchmove,!1),t[n](l.end,c.onTouchend,!1)},c.attach=function(){c.events()},c.detach=function(){c.events(!0)},c.touches={startX:0,startY:0,currentX:0,currentY:0,endX:0,endY:0,diff:0,posX:0,direction:null},c.index=0,c.onTouchstart=function(e){c.touches.startX=e.touches[0].clientX,c.touches.startY=e.touches[0].clientY,c.stopAutoplay(),c.params.onSlideChangeStart&&c.params.onSlideChangeStart(c),e.stopPropagation()},c.onTouchmove=function(e){c.touches.currentX=e.touches[0].clientX,c.touches.currentY=e.touches[0].clientY,c.touches.diff=c.touches.startX-c.touches.currentX;var t=c.touches.startY-c.touches.currentY;if(null==c.touches.direction&&(c.touches.direction=Math.abs(t)-Math.abs(c.touches.diff)>0?"vertical":"horizontal"),"horizontal"==c.touches.direction){var n=c.touches.posX-c.touches.diff;if(n>0||-n+c.container.width>=c.wrapper.width)return;c.wrapper.style.left=n+"px"}},c.onTouchend=function(){"horizontal"==c.touches.direction&&(c.touches.diff>c.params.threshold?c.index++:c.touches.diff<-c.params.threshold&&c.index--,c.slideTo()),c.touches.direction=null,c.startAutoplay()},c.startAutoplay=function(){c.params.autoplay&&(c.autoplayer=e.setInterval(function(){c.index++,c.index>=c.slides.length&&(c.index=0),c.slideTo(c.index)},c.params.autoplay))},c.stopAutoplay=function(){c.autoplayer&&e.clearInterval(c.autoplayer)},c.slideTo=function(e){e>=0&&(c.index=e),c.index<0&&(c.index=0),c.index>c.slides.length-1&&(c.index=c.slides.length-1),c.params.slidesPerView>1&&c.index>c.slides.length-i.slidesPerView&&(c.index=c.slides.length-c.params.slidesPerView),c.updateClasses(),o(),setTimeout(function(){if(c.params.onSlideChangeEnd&&c.params.onSlideChangeEnd(c),c.params.loop){if(0==c.touches.posX)return c.index=c.slides.length-2*c.params.slidesPerView,c.params.duration=0,o(),void(c.params.duration=r.duration);if(-c.touches.posX+c.container.width>=c.wrapper.width)return c.index=c.params.slidesPerView,c.params.duration=0,o(),void(c.params.duration=r.duration)}},c.params.duration)},c.init=function(){c.params.loop&&c.createLoop(),c.updateSlides(),c.params.pagination&&c.createPagination(),c.updateContainerSize(),c.attach(),c.params.autoplay&&c.startAutoplay()},c.init()}},Slider.prototype={preventDefault:function(e){e.preventDefault()},support:{touch:function(){return"ontouchstart"in e}(),animationend:function(){return"onanimationend"in e}(),transitionend:function(){return"ontransitionend"in e}()}}}(window,document,void 0),function(e,t,n){"use strict";e.Toast=function(e,a){var i={delay:1e3};a=a||{};for(var o in i)a[o]==n&&(a[o]=i[o]);var r=this;r.params=a,r.hideAnimate={opacity:0},r.showAnimate={opacity:"1",bottom:"50px"},r.createContainer=function(){r.container||(r.container=t.createElement("div"),r.container.setAttribute("class","toast-box"),r.toast=t.createElement("div"),r.toast.setAttribute("class","toast"),r.toast.innerHTML=e,r.container.appendChild(r.toast),t.body.appendChild(r.container))},r.setText=function(e){r.toast.innerHTML=e},r.hide=function(e){$(r.container).animate(r.hideAnimate,"fast","linear",function(){$(this).css({display:"none",bottom:"-100%"}),e&&e(r)})},r.show=function(e){clearTimeout(r.delay),r&&($(r.container).css("display","block").animate(r.showAnimate,"fast","linear"),r.delay=setTimeout(function(){r.hide(e)},r.params.delay))},r.destory=function(){$(r.container).remove(),r=null},r.init=function(){r.createContainer()},r.init()}}(window,document,void 0),function(e,t){"use strict";e.Type={};for(var n,a=Type,i=0;n=["String","Boolean","Number","Array","Object","HTMLElement","Function"][i++];)!function(e){a["is"+e]=function(t){return"HTMLElement"==e&&Object.prototype.toString.call(t).indexOf("HTML")?!0:Object.prototype.toString.call(t)==="[object "+e+"]"}}(n);a.isJson=function(e){if(!e)return!1;if(this.isObject(e))try{return JSON.stringify(e),!0}catch(t){return!1}else{if(!this.isString(e))return!1;try{return JSON.parse(e),!0}catch(t){return!1}}},a.isQueryId=function(e){var t=/^#([\w-]*)$/,n=t.exec(e);return n&&n.length>0?n[1]:!1},a.isQueryClass=function(e){var t=/^\.([\w-]*)$/,n=t.exec(e);return n&&n.length>0?n[1]:!1},a.isId=function(e){return"string"==typeof e&&t.getElementById(e)?!0:!1},a.isClass=function(e){return"string"==typeof e&&t.getElementsByClassName(e)?!0:!1},a.isTag=function(e){var t=/^<(\w+)\s*.*\/\w*>$/im,n=t.exec(e);return n&&n.length>0?!0:!1},a.hasEvent=function(e,n){return null==t.all(e)[n]?!1:!0}}(window,document,void 0),function(e,t,n){"use strict";e.Weather=function(e,a){var i=this;i.container=t.querySelector(e);var o={city:"南京",expires:"today"};a=a||{};for(var r in o)a[r]==n&&(a[r]=o[r]);i.params=a,("today"!=!i.params.expires&&0!=i.params.expires||"number"!=typeof i.params.expires)&&(i.params.expires=DateUtil.format(DateUtil.expires(i.params.expires)),i.icon={qing:"icon-weaqing",duoyun:"icon-weaduoyun",zhenyu:"icon-weazhenyu",leizhenyu:"icon-wealeizhenyu",leizhenyubanyoubingbao:"icon-wealeizhenyubanyoubingbao",yujiaxue:"icon-weayujiaxue",xiaoyu:"icon-weaxiaoyu",zhongyu:"icon-weazhongyu",dayu:"icon-weadayu",baoyu:"icon-weabaoyu",dabaoyu:"icon-weadabaoyu",tedabaoyu:"icon-weatedabaoyu",zhenxue:"icon-weazhenxue",xiaoxue:"icon-weaxiaoxue",zhongxue:"icon-weazhongxue",daxue:"icon-weadaxue",baoxue:"icon-weabaoxue",wu:"icon-weawu",dongyu:"icon-weadongyu",shachenbao:"icon-weashachenbao",xiaoyuzhuanzhongyu:"icon-weaxiaoyuzhuanzhongyu",zhongyuzhuandayu:"icon-weazhongyuzhuandayu",dayuzhuanbaoyu:"icon-weadayuzhuanbaoyu",baoyuzhuandabaoyu:"icon-weabaoyuzhuandabaoyu",dabaoyuzhuantedabaoyu:"icon-weadabaoyuzhuantedabaoyu",xiaoxuezhuanzhongxue:"icon-weaxiaoxuezhuanzhongxue",zhongxuezhuandaxue:"icon-weazhongxuezhuandaxue",daxuezhuanbaoxue:"icon-weadaxuezhuanbaoxue",fuchen:"icon-weafuchen",yangsha:"icon-weayangsha",qiangshachenbao:"icon-weaqiangshachenbao",mai:"icon-weamai",yin:"icon-weayin"},i.initWeatherData=function(){var e=DB.get("weatherJson"),t=DB.get("weatherJson_expires"),n=DateUtil.format(DateUtil.todayNow());return e&&t&&t>n?(console.log("正在读取缓存天气，缓存于"+t+"过期"),void i.showWeather(JSON.parse(e))):void i.loadWeatherData()},i.loadWeatherData=function(){$.ajax({url:"http://api.map.baidu.com/telematics/v3/weather?location="+i.params.city+"&output=json&ak=W79uNeeyw7QXp6FGUzR6r8lY",type:"GET",dataType:"jsonp",success:function(e){return console.log(e),e?(console.log("正在读取服务器天气.."),console.log("正在定义缓存时效，时效截止于"+i.params.expires),DB.set("weatherJson",JSON.stringify(e)),DB.set("weatherJson_expires",i.params.expires),void i.showWeather(e)):void alert("你填写的现居地有误 ")},error:function(e){console.log("ajax请求失败："+e)}})},i.showWeather=function(e){var t=/(-)?\d*℃/,n=/(周|星期|礼拜)[1-7一二三四五六七天日]/;if("success"==e.status){$(".weather-current-city",i.container).html(e.results[0].currentCity),$("#weather-current-date",i.container).html(e.date);var a=e.results[0].weather_data[0].date,o=t.exec(a),r=n.exec(a);$("#weather-current-temperature",i.container).html(o[0]),$("#weather-today-temperature",i.container).html(e.results[0].weather_data[0].temperature);var s=e.results[0].pm25,c=i.airqualityLvl(s);$(".weather-current-pm25",i.container).html(s),$(".weather-air-quality",i.container).html(c),$("#weather-current-icon",i.container).attr("class",i.reWeatherIcon(e.results[0].weather_data[0].dayPictureUrl)),$(".weather-name",i.container).html(e.results[0].weather_data[0].weather),$("#weather-current-wind").html(e.results[0].weather_data[0].wind);for(var l=0;4>l;l++)6<DateUtil.hour()<18?$(".weather-otherday i",i.container).eq(l).attr("class",i.reWeatherIcon(e.results[0].weather_data[l].dayPictureUrl)):$(".weather-otherday i",i.container).eq(l).attr("class",i.reWeatherIcon(e.results[0].weather_data[l].dayPictureUrl)),$(".weather-otherday p",i.container).eq(l).html(e.results[0].weather_data[l].temperature),$(".weather-otherday small",i.container).eq(l).html(e.results[0].weather_data[l].date);$(".weather-otherday small",i.container).eq(0).html(r[0])}else alert("天气获取失败,请刷新后重试")},i.initWeatherData())},Weather.prototype={reWeatherIcon:function(e){var t=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."));return this.icon[t]},airqualityLvl:function(e){var t="";return t=50>=e?"优":e>50&&100>=e?"良":e>100&&150>=e?"轻度污染":e>150&&200>=e?"中度污染":e>200&&300>=e?"重度污染":"严重污染"}}}(window,document,void 0),function(){function e(e){function t(){this.active_date.setTime(this.active_date.getTime()-w)}function n(){this.active_date.setTime(this.active_date.getTime()+w)}function a(){this.active_date.setMonth(this.active_date.getMonth()-1)}function i(){this.active_date.setMonth(this.active_date.getMonth()+1)}function o(){return this.active_date}function r(e){this.active_date.setTime(e)}function s(e){this.active_date.setTime(this.active_date.getTime()+b*(parseInt(e,10)-this.active_date.getDay()))}function c(e,t){var n=1;for(e[0].setTime(t),n=1;7>n;++n)e[n].setTime(e[n-1].getTime()+b);return e}function l(){var e=this.active_date.getDay(),t=this.active_date.getTime()-b*e;return c(this.temp_date_array,t)}function u(){var e=this.active_date.getDay(),t=this.active_date.getTime()-b*e-w;return c(this.temp_prev_date_array,t)}function d(){var e=this.active_date.getDay(),t=this.active_date.getTime()-b*e+w;return c(this.temp_next_date_array,t)}function m(e,t){var n=1;for(e[0].setTime(t),n=1;42>n;++n)e[n].setTime(e[n-1].getTime()+b);return e}function h(){k.setTime(this.active_date.getTime()-b*(this.active_date.getDate()-1));var e=k.getDay(),t=k.getTime()-b*e;return m(this.temp_month_calender_date_array,t)}function p(){k.setTime(this.active_date.getTime()-b*(this.active_date.getDate()-1)),k.setMonth(k.getMonth()-1);var e=k.getDay(),t=k.getTime()-b*e;return m(this.temp_prev_month_calender_date_array,t)}function f(){k.setTime(this.active_date.getTime()-b*(this.active_date.getDate()-1)),k.setMonth(k.getMonth()+1);var e=k.getDay(),t=k.getTime()-b*e;return m(this.temp_next_month_calender_date_array,t)}function v(){return k.setTime(this.active_date.getTime()-b*(this.active_date.getDate()-1)),Math.floor((k.getDay()+this.active_date.getDate()-1)/7)}function g(e){return k.setTime(this.active_date.getTime()-b*(this.active_date.getDate()-1)),k.setTime(k.getTime()+b*(e-k.getDay())),k.getTime()}this.temp_date_array=[],this.temp_prev_date_array=[],this.temp_next_date_array=[],this.temp_month_calender_date_array=[],this.temp_prev_month_calender_date_array=[],this.temp_next_month_calender_date_array=[];var y=0,w=6048e5,b=864e5;for(this.active_date=e.activeDate?e.activeDate:new Date,y=0;7>y;++y)this.temp_date_array.push(new Date),this.temp_prev_date_array.push(new Date),this.temp_next_date_array.push(new Date);for(y=0;42>y;++y)this.temp_month_calender_date_array.push(new Date),this.temp_prev_month_calender_date_array.push(new Date),this.temp_next_month_calender_date_array.push(new Date);var k=new Date;this.prevWeek=t,this.nextWeek=n,this.prevMonth=a,this.nextMonth=i,this.getSelected=o,this.setSelected=r,this.setSelectedDay=s,this.getWeekDate=l,this.getPrevWeekDate=u,this.getNextWeekDate=d,this.getMonthCalenderDate=h,this.getPrevMonthCalenderDate=p,this.getNextMonthCalenderDate=f,this.getWeekNumInCalender=v,this.getMonthCalenderDateTimeByIndex=g}function t(e){function t(e){var t,n,a,i=e.keyElement.month_container,o="";for(t=0;3>t;++t){for(o+='<div class="month-block">',n=0;6>n;++n){for(o+='<div class="week-line">',a=0;7>a;++a)o+='<div class="day-date"><span class="datenum_'+t+"_"+n+"_"+a+' show-date">'+n+t+"</span></div>";o+="</div>"}o+="</div>"}i.innerHTML=o}function n(e){return parseInt(e.match(/-?\d+/)[0],10)}function a(e){var t=n(e.keyElement.calender_container.style.transform),a=n(e.keyElement.month_container.style.transform),i=e.keyElement.date_container.style.height;return i=parseInt(i.substring(0,i.length-2),10),{positonX:t,positonY:a,height:i}}function i(e){var t,n,a,i,r=e.keyElement.month_container,s=e.dateSelectObject.getSelected(),l=e.dateSelectObject.getMonthCalenderDate(),u=new Date;for(e.container_element.getElementsByClassName("calendar-title")[0].innerHTML=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+" 周"+c[s.getDay()],n=0;6>n;++n)for(a=0;7>a;++a)i=7*n+a,t=r.getElementsByClassName("datenum_1_"+n+"_"+a)[0],t.innerHTML=l[i].getDate(),t.className=t.className.replace(/ not-this-month/g,""),l[i].getMonth()!=s.getMonth()&&(t.className+=" not-this-month"),t.className=t.className.replace(/ active/g,""),l[i].getDate()===s.getDate()&&l[i].getMonth()===s.getMonth()&&(t.className+=" active"),t.className=t.className.replace(/ today/g,""),l[i].getDate()===u.getDate()&&l[i].getMonth()===u.getMonth()&&(t.className+=" today");if("week"===e.mode){var d=e.dateSelectObject.getWeekNumInCalender(),m=e.dateSelectObject.getPrevWeekDate(),h=e.dateSelectObject.getNextWeekDate();for(n=0;7>n;++n)t=r.getElementsByClassName("datenum_0_"+d+"_"+n)[0],t.innerHTML=m[n].getDate(),t.className=t.className.replace(/ not-this-month/g,""),m[n].getMonth()!=s.getMonth()&&(t.className+=" not-this-month"),t.className=t.className.replace(/ today/g,""),m[n].getDate()===u.getDate()&&m[n].getMonth()===u.getMonth()&&(t.className+=" today"),t=r.getElementsByClassName("datenum_2_"+d+"_"+n)[0],t.innerHTML=h[n].getDate(),t.className=t.className.replace(/ not-this-month/g,""),h[n].getMonth()!=s.getMonth()&&(t.className+=" not-this-month"),t.className=t.className.replace(/ today/g,""),h[n].getDate()===u.getDate()&&h[n].getMonth()===u.getMonth()&&(t.className+=" today")}else if("month"===e.mode){var p=e.dateSelectObject.getPrevMonthCalenderDate(),f=e.dateSelectObject.getNextMonthCalenderDate();for(n=0;6>n;++n)for(a=0;7>a;++a)i=7*n+a,t=r.getElementsByClassName("datenum_0_"+n+"_"+a)[0],t.innerHTML=p[i].getDate(),t.className=t.className.replace(/ not-this-month/g,""),t.className+=" not-this-month",t.className=t.className.replace(/ today/g,""),p[i].getDate()===u.getDate()&&p[i].getMonth()===u.getMonth()&&(t.className+=" today"),t=r.getElementsByClassName("datenum_2_"+n+"_"+a)[0],t.innerHTML=f[i].getDate(),t.className=t.className.replace(/ not-this-month/g,""),t.className+=" not-this-month",t.className=t.className.replace(/ today/g,""),f[i].getDate()===u.getDate()&&f[i].getMonth()===u.getMonth()&&(t.className+=" today")}o(e)}function o(e,t){return t?(e.keyElement.calender_container.style.transform="translateX("+t.positonX+"px)",e.keyElement.date_container.style.height=t.height+"px",e.keyElement.month_container.style.transform="translateY("+t.positonY+"px)",!0):(e.keyElement.calender_container.style.transform="translateX(-"+e.keyData.calenderWidth+"px)",e.keyElement.date_container.style.height="week"==e.mode?e.keyData.calenderHeight+"px":6*e.keyData.calenderHeight+"px",void(e.keyElement.month_container.style.transform="week"==e.mode?"translateY("+-1*e.dateSelectObject.getWeekNumInCalender()*e.keyData.calenderHeight+"px)":"translateY(0px)"))}function r(e,t,n,i){var r,s=30,c=25;!function(e,t,n){var i={x:{0:{positonX:-1*e.keyData.calenderWidth},1:{positonX:-2*e.keyData.calenderWidth},"-1":{positonX:0}},y:{0:{positonY:0,height:6*e.keyData.calenderHeight},1:{positonY:-1*e.dateSelectObject.getWeekNumInCalender()*e.keyData.calenderHeight,height:e.keyData.calenderHeight}}};r=function(){var r,s=a(e),l=i[t][n],u=!1;for(r in l)l[r]!=s[r]&&(s[r]=l[r]>s[r]&&l[r]>s[r]+c?s[r]+c:l[r]<s[r]&&l[r]<s[r]-c?s[r]-c:l[r],u=!0);return u?(o(e,s),!0):!1}}(e,t,n,i),function(t){function n(){t()?e.keyData.timeout=setTimeout(n,s):"function"==typeof i&&i()}clearTimeout(e.keyData.timeout),n()}(r)}function s(e){function t(){i(e)}function n(){var n=a(e);if(1===e.keyData.direct)n.positonX<-1.2*e.keyData.calenderWidth?("week"===e.mode?e.dateSelectObject.nextWeek():e.dateSelectObject.nextMonth(),"function"==typeof e.onChange&&e.onChange(e.dateSelectObject.getSelected()),r(e,"x",1,t)):n.positonX>-.8*e.keyData.calenderWidth?("week"===e.mode?e.dateSelectObject.prevWeek():e.dateSelectObject.prevMonth(),"function"==typeof e.onChange&&e.onChange(e.dateSelectObject.getSelected()),r(e,"x",-1,t)):r(e,"x",0,t);else if(-1===e.keyData.direct){var i=e.mode;"week"===i&&n.height>2*e.keyData.calenderHeight?i="month":"month"===i&&n.height<4*e.keyData.calenderHeight&&(i="week"),"week"===i?(e.mode="week",r(e,"y",1,t)):(e.mode="month",r(e,"y",0,t))}}function o(t){var n,a,o;n=t.target.className,a=n.substr(n.indexOf("date_num_")+9,5).split("_"),o=7*parseInt(a[1],10)+parseInt(a[2],10),u.setTime(e.dateSelectObject.getMonthCalenderDateTimeByIndex(o)),(u.getMonth()!=e.dateSelectObject.getSelected().getMonth()||u.getDate()!=e.dateSelectObject.getSelected().getDate())&&(e.dateSelectObject.setSelected(u.getTime()),"function"==typeof e.onChange&&e.onChange(e.dateSelectObject.getSelected()),i(e))}i(e),e.keyElement.date_container.addEventListener("touchstart",function(t){var n=t.touches[0];e.keyData.tempX=n.clientX,e.keyData.tempY=n.clientY,e.keyData.direct=0},!1),e.keyElement.date_container.addEventListener("touchmove",function(t){var n=t.touches[0],i=n.clientX-e.keyData.tempX,o=n.clientY-e.keyData.tempY,r=a(e),s=r.positonX+i,c=r.positonY+o,l=r.height+o;0===e.keyData.direct&&(e.keyData.direct=Math.abs(i)>Math.abs(o)?1:-1),1===e.keyData.direct?0>s&&s>-2*e.keyData.calenderWidth&&(e.keyElement.calender_container.style.transform="translateX("+s+"px)"):-1===e.keyData.direct&&(0>c&&c>-6*e.keyData.calenderHeight&&l>e.keyData.calenderHeight&&(e.keyElement.month_container.style.transform="translateY("+c+"px)"),l>e.keyData.calenderHeight&&l<6*e.keyData.calenderHeight&&(e.keyElement.date_container.style.height=l+"px")),e.keyData.tempX=n.clientX,e.keyData.tempY=n.clientY},!1),e.switchMode=function(){"month"===e.mode?(e.mode="week",r(e,"y",1,t)):(e.mode="month",r(e,"y",0,t))},e.switchToWeek=function(){e.mode="week",r(e,"y",1,t)},e.switchToMonth=function(){e.mode="month",r(e,"y",0,t)},e.jumpToDate=function(t){t&&t.getTime&&(e.dateSelectObject.setSelected(t.getTime()),i(e))},e.getActiveDate=function(){return e.dateSelectObject.getSelected()},e.keyElement.date_container.addEventListener("touchend",n,!1),e.keyElement.date_container.addEventListener("touchcancel",n,!1);var s,c=e.container_element.getElementsByClassName("show-date"),l=c.length,u=new Date;for(s=0;l>s;++s)c[s].onclick=o;e.container_element.getElementsByClassName("arrowleft")[0].onclick=function(){"week"==e.mode?e.dateSelectObject.prevWeek():e.dateSelectObject.prevMonth(),r(e,"x",-1,t)},e.container_element.getElementsByClassName("arrowright")[0].onclick=function(){"week"==e.mode?e.dateSelectObject.nextWeek():e.dateSelectObject.nextMonth(),r(e,"x",1,t)}}var c=["日","一","二","三","四","五","六"];return this.container_element=document.getElementById(e.containerDivId),this.mode=e.mode?e.mode:"week",this.dateSelectObject=e.dateSelectObject,this.onChange=e.onChange,this.keyElement={calender_container:this.container_element.getElementsByClassName("calender_container")[0],date_container:this.container_element.getElementsByClassName("date_container")[0],month_container:this.container_element.getElementsByClassName("month_container")[0]},this.keyData={calenderWidth:this.container_element.clientWidth,calenderHeight:this.keyElement.date_container.getElementsByClassName("day-date")[0].clientHeight},this.container_element?(t(this,this.container_element),void s(this)):!1}window.DateSelect=e,window.Calender=t}();