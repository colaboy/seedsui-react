// PickerTree
@treePrefixCls: ~'rc-tree';
@treeNodePrefixCls: ~'@{treePrefixCls}-treenode';

.@{treePrefixCls} {
  margin: 0;
  // border: 1px solid transparent;

  &-focused:not(&-active-focused) {
    border-color: cyan;
  }

  // padding: 5px;
  .@{treeNodePrefixCls} {
    margin: 0;
    padding: 0;
    line-height: 24px;
    white-space: nowrap;
    list-style: none;
    outline: 0;
    .draggable {
      color: #333;
      -moz-user-select: none;
      -khtml-user-select: none;
      -webkit-user-select: none;
      user-select: none;
      /* Required to make elements draggable in old WebKit */
      // -khtml-user-drag: element;
      // -webkit-user-drag: element;
    }

    &.dragging {
      background: rgba(100, 100, 255, 0.1);
    }

    &.drop-container {
      > .draggable::after {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        box-shadow: inset 0 0 0 2px red;
        content: '';
      }
      & ~ .@{treeNodePrefixCls} {
        border-left: 2px solid chocolate;
      }
    }
    &.drop-target {
      background-color: yellowgreen;
      & ~ .@{treeNodePrefixCls} {
        border-left: none;
      }
    }
    &.filter-node {
      > .@{treePrefixCls}-node-content-wrapper {
        color: #a60000 !important;
        font-weight: bold !important;
      }
    }
    ul {
      margin: 0;
      padding: 0 0 0 18px;
    }
    .@{treePrefixCls}-node-content-wrapper {
      position: relative;
      display: inline-block;
      height: 24px;
      margin: 0;
      padding: 0;
      text-decoration: none;
      vertical-align: top;
      cursor: pointer;
    }
    span {
      &.@{treePrefixCls}-switcher,
      &.@{treePrefixCls}-checkbox,
      &.@{treePrefixCls}-iconEle {
        display: inline-block;
        width: 16px;
        height: 16px;
        margin-right: 2px;
        line-height: 16px;
        vertical-align: -0.125em;
        background-color: transparent;
        background-image: url(//res.waiqin365.com/d/seedsui/images/treepicker/treepicker.png);
        background-repeat: no-repeat;
        background-attachment: scroll;
        border: 0 none;
        outline: none;
        cursor: pointer;

        &.@{treePrefixCls}-icon__customize {
          background-image: none;
        }
      }
      &.@{treePrefixCls}-icon_loading {
        margin-right: 2px;
        vertical-align: top;
        background: url('data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7')
          no-repeat scroll 0 0 transparent;
      }
      &.@{treePrefixCls}-switcher {
        &.@{treePrefixCls}-switcher-noop {
          cursor: auto;
        }
        &.@{treePrefixCls}-switcher_open {
          background-position: -93px -56px;
        }
        &.@{treePrefixCls}-switcher_close {
          background-position: -75px -56px;
        }
      }
      &.@{treePrefixCls}-checkbox {
        width: 13px;
        height: 13px;
        margin: 0 3px;
        background-position: 0 0;
        &-checked {
          background-position: -14px 0;
        }
        &-indeterminate {
          background-position: -14px -28px;
        }
        &-disabled {
          background-position: 0 -56px;
        }
        &.@{treePrefixCls}-checkbox-checked.@{treePrefixCls}-checkbox-disabled {
          background-position: -14px -56px;
        }
        &.@{treePrefixCls}-checkbox-indeterminate.@{treePrefixCls}-checkbox-disabled {
          position: relative;
          background: #ccc;
          border-radius: 3px;
          &::after {
            position: absolute;
            top: 5px;
            left: 3px;
            width: 5px;
            height: 0;
            border: 2px solid #fff;
            border-top: 0;
            border-left: 0;
            -webkit-transform: scale(1);
            transform: scale(1);
            content: ' ';
          }
        }
      }
    }
  }
  &:not(.@{treePrefixCls}-show-line) {
    .@{treeNodePrefixCls} {
      .@{treePrefixCls}-switcher-noop {
        background: none;
      }
    }
  }
  &.@{treePrefixCls}-show-line {
    .@{treeNodePrefixCls}:not(:last-child) {
      > ul {
        background: url('data:image/gif;base64,R0lGODlhCQACAIAAAMzMzP///yH5BAEAAAEALAAAAAAJAAIAAAIEjI9pUAA7')
          0 0 repeat-y;
      }
      > .@{treePrefixCls}-switcher-noop {
        background-position: -56px -18px;
      }
    }
    .@{treeNodePrefixCls}:last-child {
      > .@{treePrefixCls}-switcher-noop {
        background-position: -56px -36px;
      }
    }
  }
  &-child-tree {
    display: none;
    &-open {
      display: block;
    }
  }
  &-treenode-disabled {
    > span:not(.@{treePrefixCls}-switcher),
    > a,
    > a span {
      color: #767676;
      cursor: not-allowed;
    }
  }
  &-treenode-active {
    background: rgba(0, 0, 0, 0.1);

    // .@{treePrefixCls}-node-content-wrapper {
    //   background: rgba(0, 0, 0, 0.1);
    // }
  }
  &-node-selected {
    background-color: #ffe6b0;
    box-shadow: 0 0 0 1px #ffb951;
    opacity: 0.8;
  }
  &-icon__open {
    margin-right: 2px;
    vertical-align: top;
    background-position: -110px -16px;
  }
  &-icon__close {
    margin-right: 2px;
    vertical-align: top;
    background-position: -110px 0;
  }
  &-icon__docu {
    margin-right: 2px;
    vertical-align: top;
    background-position: -110px -32px;
  }
  &-icon__customize {
    margin-right: 2px;
    vertical-align: top;
  }
  &-title {
    display: inline-block;
  }
  &-indent {
    display: inline-block;
    height: 0;
    vertical-align: bottom;
  }
  &-indent-unit {
    display: inline-block;
    width: 16px;
  }

  &-draggable-icon {
    display: inline-flex;
    justify-content: center;
    width: 16px;
  }
}

// 覆盖rc-tree的样式
.treepicker-tree {
  position: relative;
  overflow: auto;
  .flex-1;
  min-height: 200px;

  .rc-tree .rc-tree-treenode {
    padding: 0 12px;
    .setBorderB(#E6E8EB);
    border-bottom: 0 !important;
  }
  // 选中node
  .rc-tree-treenode-checkbox-checked {
    background-color: #f8f9f9 !important;
  }
  .rc-tree .rc-tree-treenode .rc-tree-node-content-wrapper {
    height: initial;
    padding-right: 20px;
  }
  .rc-tree .rc-tree-treenode span.rc-tree-switcher,
  .rc-tree .rc-tree-treenode span.rc-tree-checkbox,
  .rc-tree .rc-tree-treenode span.rc-tree-iconEle {
    background-image: none;
    // background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABhCAMAAABmpVoOAAACfFBMVEUAAAC9wsjV2N3o17fY2+AFBAHV1dzi5enk5+ozl81Zty8EAwG8wsjO09nR1Nk0l87j5ujGy9DV2d4FBAKGhoY0ls3Y2domeqfV19rp7O7v8fMDCA28wsj6jA+ampr261v/oCr/kgr/kwz/kQlWtCz/kQrVvgFoaGjqkxaKiop6enrRaTDqgR//rUje3t7c3NzeyxwqgrMxj8QbYYjUaC0gbZhAjR3U1tnV19nZ3t7IZS43Lx68wsi8wsi8wsi8wsi8wsi8wsjml2jQaTD9jQ0kHAv/oizl1DFMpCZtbW3/kAlWtCz/kQj/kQg2ndb/kQn/kAh+RhFzc3OFcELCrBfaww7a2trO09iReworh7lHR0fa2trO09iiUCSWRRnv1J/o1CwzdhbPuAhpaWm0Yjajb1HqfkJGHwqTfALQuADz9PX/////kAjn6uvR09k4m9JJqeXd3+T99qv3+fpjwPeR4f9tyP7i4+V81/9Tsuv//LdZuPLs0If8m2Gqqqr36YyT1v7575+l4v+c3f+2traD2/90zv//+/Ty4HyHy/J4we1itut2v+ppt+NFotf/rnjnyXuQ8Gz+pGyx8f/+v5WF02Z01lBqz0SC0///5cTOqEnTazHb7P7+7dWn/Yn+x6Duo3R93Vfz6D347Jb04Yjw3HTkhk1jxTzr9v+h6f9yd6T/uofvkVjh8v9ywvOCxe+n742e54L473WP2HTHdknMpUWJqNnVtFzP7P/I5P//9Ob/1LV1gbL/053/yYb/w3j/uGH/16ndq43evWqE5F/zhUJ8yVu5UBbyroaZ+3W2nhG8vLz04rfYeULC1v+QuOr7klOBlcNjaJjHl30Ud/3JAAAAanRSTlMA/uMH/g45oI1r/izvrYv5DibxIbXEsYJpQUAYkjr+/v7t3a5raTk2I+/nbxf+9urm3M+clIiEelgXyFThuqqHbVP+9Fg48OfW0MbEtZ2Xi3qceybYzMbGsaqqnZ2Ew/v7nIRQp+fedmBcsR8v9wAACjFJREFUaN7Mlt9LWmEYx19zBh6tNkZXW5A5YWDeeiH7aSOiGmt/gIxdfx3ZyoihrBV1xhgrm9rsYCprHca6KGIEjbJYpIP1P+153zP17JzphQ7Zh8OB8/0e6MPzmj6M6OzquNTR1ck0+tyu8MDDm0xg7vp511as3VPTAKanuq386VFY4PL8rfNlATkz7PnHBt7A0FDAa60lN8YkaewG0+h+Bo1n3fQk/AQPzN0xBPIJdc3yMyb4WUu8Sj737Vsur3grelJqd3NzNyUJxc4pVJjqZH3hKq5BY+cDsie+ogx5eJA1S+yFYCtb9bvI5ZKlUimXu/Bqfirp/fhBiio37JpGheku5tbk+g/7w+EJY5dFVpQyjiZYs6xqgq9WOTRHq5JLfikBKCVzijhlaZf0VJUUdyV67ECNDubSBDNFuo0bO+BEtEfIjjcv+FzHKg0wn1xZAfiVzHv5AFObiUQCoNtmikZ4CTUuMfrzxxl+EaOGrh/wCcEi5FFWjztXDMFti8XpdN6pJxggv9+CK8kAvTC2l0ioKqCqicTemHGCA3x8p3TAhNvYySgKwVNk3KweTstdK9NzxcKpan9/peM7Y0PJtbU1YI2THOInvHd2BsHZ2Z5k/Aw+FB9A7SQ9xi4DmZv7gGNPA0HLrftMz3Xyu8uqgh91CMF4PA7ES6V4/LdgoQBBoUCChv/Um65whQGrsRuWIR8VT4FD6uoLEtf1yWWn5Vbt/YOXOg7oiMvxnR2AX/EyP+KR/UI6nQboVtgfMX3XeaqCfebuRAbn0EddA0HnvT+jexbdSA+2dJBgKJjngiUSzAdD9IL/PLW+vg7QLXXuN/1asAcubX7kYO6Gj7Jy5pi6+tD4Lhsz/UA3XuvYYOyaUt7Z3gawvVNWrjEKpP30uiC9L1Fg+r0dnBgfdXtIqEHXgNtXWEM2PukgQRa6KAe3iWD5IsQ4fm6oqtzPz9pP7KuOGAW2kBLME0ElZGMcm186TxHnkp+C/2CbsTkeBxQl8NhhqwZPRyRp5KnD9p9sM8x21eG4ajMFLW0z7aP1baZ17L09Pb32OkG7txnzPmiffLP4/v3im0m7OWj/NmPeB+3vFj5HI5HI54V39lpAiKDVbab1fZBNLkSXIgAi0YVJxirB0tKSCFrdZlrfB+1vo3NzAL+ib+2sEszNRUTQ6jbTumDv/IflZYBfH+Z7WSVYjmhB89tMc2SfxGps8X2wZ3F2dhaY5Sz2sEpAEXjQ9DbT5Eb95PmLGrGXXHB+ZmYGmPnFixm0phFFUXicDFEKQupCTfIflCSE6B9JFgl0/x46Mx1hEIV2IW2NMXTbMl2ELiqBJDvTwuzatcX8ot77Xm+nmevqCh4Uvfe4OLwZ9eMEQa/3FvPYBaw0LsQ0IyTqT8PXmb4OAbcOx73BQGt89MaHDi0GtJDSjJCo3z8nfghYm973+1oHWvfvpzWHFn184kIqKVG/Gr7J9BEC7vvjSWB+ZiZjf9+hBcguULtFt+IWd+nMqs2Ge24uCffKbte9AE9M1F8eP2QyPFi7fpiYOA/XeF58sVPyOkqpjlfaMXddrFCN+irPUzhV6msQ9ePn//QTyeXYn15dXl5N/WPgF77YKoXKKixt4fdWWcUt7sU0taREvZoHjw58/+DI4B9f7HmK5O0527EiNdt5D6fQw0+4bUcgGQ8WO4rUKTpVZdWF6STnlXEPst7G5KpMrtO0b8wxVXMeTKEJ2EFPqt9zq1SxOnA1D1ZUporTUCr28AE6zXldCG4CQvozeUCtoyhSYTpXrA5cxYP8lJQXQpTVJxjTCZbXCIiKkrQPCakOfAH6BnUg40F2D57jKyTAqZ7zLmDCfB4Era8XMIKAaVpwqA7UKKgDGQ+yb/HLRnZkW3mvgkHjjvHWu8Sz2WyxSEcO1YHYBto6kHgwgCfyIPutq8c0bXOPJg88qeY6moGSJIGAtg7EgHCNbR1IgBi8MzzI/i2cVtNMLmTgnotTjJ48IJ7f3V2SfL+FgLYO/JXVgcSDQIOWB/n/bfukelqt0zVk3lkZPbmWlO8HBbzBPvAGhQEJEHWPeHDDWlI+DEh1ILaBVAcSIA6IB2U0I+6ol5QPA1IdaO5BrAMZD4ppRtxRpyYfBFw8jRyqAzUK6jbOg2KaEXfUKeWDgKwOZDwopxlxR337T08FVgcyHpTTjLijjgujvyrErA5kPCinGQFRS3hQTjMCohZp8zTzpx1zaU0jigLwDTKrLHUXojt11IWLWcVdUhE3AV9gXFjJq3lQJ1hoS+iMkE5CdoJxkVaK0hChmG5ESECyiCAUJSD0D/XMPVotV1Bu6dVFv4U6x83HeBk/TtRG0WfcD4qvGdsxRddn2g8KqxlW8BgMmfxjB8JqhhVEQ8y/czMAIf/YgaiaYQVNyDD/MABH+0G6HcSB6JpBQcRGBvl3Yu4+Tsb2g3Q7eIEDUbCC7WZTwfzD6/H9IL3EAW/N8Au+QdrNVquJ+YeC4/tBeokD7prhFxz6ldrNQf5hAI72g3iNA+6a4Rc8AtBvd5B/NAAx/5gBb83wC475SUz+MQPemuErahR8/e6+e19pN/ckMm0/yF8znEWNZ/Coe9r93PxpY/KPGfDXDG9RYyx0Tz9092zR6ftB/prhLmqyYrVak91ucnllhh7krxneop6Mxem0kInw1wx/UXu9BFC8ZITT73dODET+muEuap+yXlMIWXv5PDK0bF9eblsmBqL4mlFqpVZN2ai2np6V34KJXC6BgkwPCq4Zi3e/Xq9XatWn0uNTTYGBEzgM5XKhQydgGfbgyTn2oGhWy6WiphVKJdD89KXsg9MXCvlDDSBkfnJiD2IfYg+KJViu1DWtWADqleqaj8T8+dxNo+FwNBo3ubw/hj2IC8K59OCrcrUIhqBYWlfcMDiI3+YdXwFH/jZ+gD2IQYg9KBQ0LGjUsFJ2401NZlAwkwwS7EEMQuxB0UiRu2K/bxrW1zcGhnEUjIMf24OC8e32i3edDjV8rGz48CmNgvRZjT2IOYg9KJZYpwJ+Hc38mQut8ip9SjsajkwGXuBZzfagYKS0Vq11Clq/rhXqNcUHI3ei4YhHInFHI+Fme1A4y+lOVdPKaa0CfoRQQX8yIEmBpB8FmUDkhi+qrenOj/2ANa3drbkHzgEr/SKwzPbgX8EZ1SsR5QXoRLyW2RaG/PBF9WRcLiKO6VHN+nk8Ig2nR/WmuknGiRpGlIhjelSr3/8wlMLZbFgiApge1Zsq5epqaOhy7bh25GxWhjc4iXNHfbgCoJjBEE+fLHtko9czZPPT/A3Vb++RczCkgr3sUs/QdaO3lO0tgiDUHnL9QIM+ENaXdDsAb+EAmTsq1B7l7cfBKQymZBSUU0Eyf9Sza+ACWlTdkggahnW7LNv18CL4kS2Vcj30o8cQ7+ACHED8lwXUM+qHRO2GLsu6YY+ShWFrzC9mM3RPKuXRDVuMLArSijSK7LAnZfZgyhNeHMEBTA/+5x/wCwHUpfc1w/anAAAAAElFTkSuQmCC);
  }
  // 展开收缩图标
  .rc-tree-switcher {
    pointer-events: none;
  }
  .rc-tree-switcher_close,
  .rc-tree-switcher_open {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    &::before {
      display: block;
      content: '';
      .shape-triangle-right;
      transition: all 0.2s ease;
      transform: rotate(0deg) translateY(1px);
    }
  }
  .rc-tree-switcher_open {
    &::before {
      transform: rotate(90deg) translateY(0px);
    }
  }

  .rc-tree .rc-tree-treenode {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    background-color: white;
    border-bottom: 1px #ddd solid;
    .rc-tree-node-content-wrapper {
      display: block;
      flex: 1;
    }
  }

  // rc-tree右侧选中图标样式
  .rc-tree-checkbox {
    position: absolute;
    right: 9px;
    background-image: none !important;

    // 改为checkbox的样式
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 20px !important;
    height: 20px !important;
    box-sizing: border-box !important;
    vertical-align: middle !important;
    border: 1px solid #ced2d8 !important;
    border-radius: 100% !important;
  }
  .rc-tree-checkbox-checked {
    border: 0 !important;
    background-color: @primary !important;
    color: white !important;
    // 勾
    font-family: 'seeds-icons';
    &:extend(.seeds-icon-ok-fill all);
    &:before {
      width: 12px;
      height: 12px;
      font-size: 12px;
      line-height: 12px;
      font-weight: bold;
    }
  }
  .rc-tree-checkbox-disabled {
    display: none !important;
  }

  .rc-tree-title {
    width: 90%;
  }
  .rc-tree-title-wrapper {
    word-break: normal;
    width: auto;
    display: block;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow: hidden;
  }
}

// 清除树控件自带的滚动条，否则会与容器的滚动条冲突
.rc-tree-list {
  overflow: hidden;
}
// treepicker的弹窗样式
// .treepicker-modal {
//   position: absolute;
//   bottom: 0;
//   z-index: 10;
//   width: 100%;

//   background-color: @picker-bg;
//   transform: translate3d(0, 100%, 0);
//   transition-duration: @animation-duration;
//   transition-property: transform, opacity, visibility;
//   &.active {
//     transform: translate3d(0, 0, 0);
//   }
// }

// .treepicker-modal-wrapper {
//   position: relative;
//   display: block;
//   height: auto;
//   height: 500px;
//   overflow: auto;
// }
.treepicker-search-input {
  position: sticky;
  top: 0;
  z-index: 1;
  // width: 100%;
  padding: 0 12px;
  .border-b;
  .bg-white;
}
.treepicker-search-input + .rc-tree {
  position: relative;
  z-index: 0;
}

/*
* TreePicker.Menu
*/
// TreePicker.Menu侧边菜单
@treepicker-menu-bg: transparent;
@treepicker-menu-item-color: #666;
@treepicker-menu-item-bg: transparent;
@treepicker-menu-item-color-active: @primary;
@treepicker-menu-item-bg-active: transparent;
// 菜单容器
.treepicker-menu {
  width: 90px;
  overflow: auto;
  background-color: @treepicker-menu-bg;
}
// 菜单容器-下级容器
.treepicker-menu-item + ul {
  display: none;
  margin-right: 1px;
}
.treepicker-menu-item.expand + ul {
  display: block;
  width: 100%;
  background-color: @treepicker-menu-item-bg-active;
}
// 菜单
.treepicker-menu-item {
  .flex;
  .flex-middle;
  .flex-center;
  position: relative;
  box-sizing: border-box;
  width: 100%;
  min-height: 40px;
  padding: 0 12px;
  color: @treepicker-menu-item-color;
  font-size: 14px;
  text-align: left;
  background-color: @treepicker-menu-item-bg;
  // 二级选中
  & + ul .treepicker-menu-item.active {
    color: @primary;
    &:before {
      width: 0;
    }
  }
  & > * {
    pointer-events: none;
  }
}
// 菜单-选中
.treepicker-menu-item.active {
  color: @treepicker-menu-item-color-active;
  background-color: @treepicker-menu-item-bg-active;
  // 左侧选中块
  &:before {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    left: 0;
    width: 4px;
    height: 20px;
    background: @primary;
    content: '';
    border-radius: 2px;
  }
}
// 菜单-文字
.treepicker-menu-item-content {
  &:extend(.flex-1);
  &:extend(.nowrap2);
}
// 菜单-图标
.treepicker-menu-item-icon {
  display: block;
  width: 15px;
  vertical-align: -2px;
}
// 菜单-更多箭头
.treepicker-menu-more {
  font-family: 'seeds-icons';
  &:extend(.seeds-icon-arrow-right all);
  width: 12px;
  height: 12px;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
// 菜单-更多箭头-展开
.treepicker-menu-item.expand {
  // 更多箭头
  .treepicker-menu-more {
    transform: rotate(90deg);
    transform-origin: center;
  }
}
